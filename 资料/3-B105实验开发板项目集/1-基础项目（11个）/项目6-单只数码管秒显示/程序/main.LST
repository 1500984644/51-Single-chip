C51 COMPILER V8.02   MAIN                                                                  10/23/2016 17:41:18 PAGE 1   


C51 COMPILER V8.02, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE main.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          //ÊýÂë¹ÜÏÔÊ¾0-9Ãë
   2          //ÊýÂë¹Ü°´ÃëÏÔÊ¾0-9
   3          //ºÓÄÏ¿Æ¼¼Ñ§Ôº-µ¥Æ¬»úÐ­»á£¬2016Äê10ÔÂ9ÈÕ                 
   4          #include<reg51.h>
   5          unsigned char cp,sec;
   6          sbit P3_0 = P3^0;
   7          code unsigned char seven_seg[10] = {0xc0,0xf9,0xa4,0xb0,0x99,0x92,0x82,0xf8,0x80,0x90}; //Êý×Ö0~9µÄÏÔÊ¾·½·
             -¨
   8          void timer0_isr()interrupt 1    //ÖÐ¶Ï·þÎñº¯Êý
   9          {
  10   1              TH0 = (65536-5000)/256;         //Ã¿´Î´¥·¢ÖÐ¶ÏºóÖØ×°³õÖµ£¬8051µ¥Æ¬»úµÄT0¹¤×÷ÔÚ·½Ê½1²»ÄÜ×Ô¶¯ÖØ×°³õÖµ
  11   1              TL0 = (65536-5000)%256;
  12   1              cp++;                                           //Ã¿´ÎÖÐ¶Ïcp¼Ó1
  13   1              if(cp >= 200)                           //ÖÐ¶Ï200´Î£¬1Ãë
  14   1              {
  15   2                      cp = 0;                                 //cp¸´Î»
  16   2                      sec++;
  17   2                      if(sec >= 10)sec = 0;
  18   2              }
  19   1              P0 = 0xff;
  20   1              P3_0 = 0;P0 = 0x01;P3_0 = 1;P3_0 = 0;//P3.0¶Ë¿ÚÉÏÉýÑØÔÊÐí74HC573´æ´¢
  21   1              P0 = seven_seg[sec];    //ÏÔÊ¾Ãë        
  22   1      }
  23          void timer0_init()                      //ÖÐ¶Ï³õÊ¼»¯º¯Êý
  24          {
  25   1              TMOD = 0X01;                    //T0¹¤×÷·½Ê½1
  26   1              TH0 = (65536-5000)/256;                                 
  27   1              TL0 = (65536-5000)%256; //¶Ô»úÆ÷Âö³å¼ÆÊý5000¸ö¼ÆÂúÒç³öÒý·¢ÖÐ¶Ï£¬5msÖÐ¶Ï1´Î
  28   1              EA = 1;                                 //¿ª×ÜÖÐ¶Ï
  29   1              ET0 = 1;                                //¿ªT0ÖÐ¶Ï
  30   1              TR0 = 1;                                //Æô¶¯¶¨Ê±Æ÷T0
  31   1      }
  32          void main()
  33          {       
  34   1              timer0_init();                  //ÖÐ¶Ï³õÊ¼»¯
  35   1              while(1);
  36   1      } 


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     87    ----
   CONSTANT SIZE    =     10    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      2    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
